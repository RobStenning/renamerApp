<!DOCTYPE html>
<html lang="en">
<head>
    <title>RENAMER</title>
</head>
<body>
    <div>
    <h1>RENAMER</h1>
    <br>
    <form id="setCode">the project code is set to: <a id="code">XXXXX</a>
        <br>
        <input type="text" id="projectcode" placeholder="XXXXX">
        <button type="submit">SET</button>
    </form>
    <br>
    <div>Select the txt file location</div>
    <button type="file" id="txtFileLocation" accept=".txt" onclick="this.value=electron.remote.dialog.showOpenDialog()[0]">Choose File</button>
    <p></p>
    <div>Select the PDF folder location</div>
    <input type="file" id="pdfFolder" webkitdirectory>
    <p></p>
    <form id="rename">
    <button type="submit">RENAME</button>
    </form>
    </div>
    <button id="testbutton" onclick="this.value=electron.remote.dialog.showOpenDialog()[0]" >Update File Test</button>
<script>
    const electron = require('electron');
    const {ipcRenderer} = electron;


    //set project code form   
    function setCode(event){
        event.preventDefault();
        const projectcode = document.querySelector('#projectcode').value;
        //ipcRenderer.send('projectcode:add', projectcode);
        //ipcRenderer.on('projectcode:add', function(event, projectcode){
        const setProjectCode = document.querySelector('#code');
        console.log(projectcode);
        setProjectCode.innerHTML = projectcode;
        //console.log(setProjectCode);
        //setProjectCode.innerHTML = projectcode;
    }
    
    ipcRenderer.on('folderlocation:add', function(event, folderlocation){
        const setfolderLocation = document.querySelector('#folderLocation');
        setfolderLocation.innerHTML = folderlocation;
    })
    
    //SET code button
    const setCodeForm = document.querySelector('#setCode');
    setCodeForm.addEventListener('submit', setCode);

    //RENAME button
    function message(event){
        event.preventDefault();
        console.log('running renamer');
        console.log(txtFile);
    }
    const renameSubmit = document.querySelector('#rename');
    renameSubmit.addEventListener('submit', message);

    //catch txt file location
    //https://medium.com/jspoint/working-with-files-i-o-in-an-electron-application-b4d2de403f54

    //test areas

    function testButton(){
    document.getElementById('testbutton').value;
     };
    
    function testFunction(){
        let txtFile = document.getElementById('txtFileLocation').value;
        console.log(txtFile.value);
        console.log(txtFileLocation.value);
    }

</script>

</body>
</html>